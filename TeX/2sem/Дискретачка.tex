\documentclass{book}
%nerd stuff here
\pdfminorversion=7
\pdfsuppresswarningpagegroup=1
% Languages support
\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}
% Some fancy symbols
\usepackage{textcomp}
\usepackage{stmaryrd}
% Math packages
\usepackage{amsmath, amssymb, amsthm, amsfonts, mathrsfs, dsfont, mathtools}
\usepackage{cancel}
% Bold math
\usepackage{bm}
% Resizing
%\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}
% Optional font for not math-based subjects
%\usepackage{cmbright}

\author{Коченюк Анатолий}
\title{Конспект по дискретной математике\\ II семестр}

\usepackage{url}
% Fancier tables and lists
\usepackage{booktabs}
\usepackage{enumitem}
% Don't indent paragraphs, leave some space between them
\usepackage{parskip}
% Hide page number when page is empty
\usepackage{emptypage}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage{xcolor}
% Some shortcuts
\newcommand\N{\ensuremath{\mathbb{N}}}
\newcommand\R{\ensuremath{\mathbb{R}}}
\newcommand\Z{\ensuremath{\mathbb{Z}}}
\renewcommand\O{\ensuremath{\emptyset}}
\newcommand\Q{\ensuremath{\mathbb{Q}}}
\renewcommand\C{\ensuremath{\mathbb{C}}}
\newcommand{\p}[1]{#1^{\prime}}
\newcommand{\pp}[1]{#1^{\prime\prime}}
% Easily typeset systems of equations (French package) [like cases, but it aligns everything]
\usepackage{systeme}
\usepackage{lipsum}
% limits are put below (optional for int)
\let\svlim\lim\def\lim{\svlim\limits}
\let\svsum\sum\def\sum{\svsum\limits}
%\let\svlim\int\def\int{\svlim\limits}
% Command for short corrections
% Usage: 1+1=\correct{3}{2}
\definecolor{correct}{HTML}{009900}
\newcommand\correct[2]{\ensuremath{\:}{\color{red}{#1}}\ensuremath{\to }{\color{correct}{#2}}\ensuremath{\:}}
\newcommand\green[1]{{\color{correct}{#1}}}
% Hide parts
\newcommand\hide[1]{}
% si unitx
\usepackage{siunitx}
\sisetup{locale = FR}
% Environments
% For box around Definition, Theorem, \ldots
\usepackage{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em}
\theoremstyle{definition}
\newmdtheoremenv[nobreak=true]{definition}{Определение}
\newmdtheoremenv[nobreak=true]{theorem}{Теорема}
\newmdtheoremenv[nobreak=true]{lemma}{Лемма}
\newmdtheoremenv[nobreak=true]{problem}{Задача}
\newmdtheoremenv[nobreak=true]{property}{Свойство}
\newmdtheoremenv[nobreak=true]{statement}{Утверждение}
\newmdtheoremenv[nobreak=true]{corollary}{Следствие}
\newtheorem*{note}{Замечание}
\newtheorem*{example}{Пример}
\renewcommand\qedsymbol{$\blacksquare$}
% Fix some spacing
% http://tex.stackexchange.com/questions/22119/how-can-i-change-the-spacing-before-theorems-with-amsthm
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=\parskip \thm@postskip=0pt
}
\usepackage{xifthen}
\def\testdateparts#1{\dateparts#1\relax}
\def\dateparts#1 #2 #3 #4 #5\relax{
    \marginpar{\small\textsf{\mbox{#1 #2 #3 #5}}}
}

\def\@lecture{}%
\newcommand{\lecture}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Lecture #1}%
    }{%
        \def\@lecture{Lecture #1: #3}%
    }%
    \subsection*{\@lecture}
    \marginpar{\small\textsf{\mbox{#2}}}
}
% Todonotes and inline notes in fancy boxes
\usepackage{todonotes}
\usepackage{tcolorbox}

% Make boxes breakable
\tcbuselibrary{breakable}
\newenvironment{correction}{\begin{tcolorbox}[
    arc=0mm,
    colback=white,
    colframe=green!60!black,
    title=Correction,
    fonttitle=\sffamily,
    breakable
]}{\end{tcolorbox}}
% These are the fancy headers
\usepackage{fancyhdr}
\pagestyle{fancy}

% LE: left even
% RO: right odd
% CE, CO: center even, center odd
% My name for when I print my lecture notes to use for an open book exam.
% \fancyhead[LE,RO]{Gilles Castel}

\fancyhead[RO,LE]{\@lecture} % Right odd,  Left even
\fancyhead[RE,LO]{}          % Right even, Left odd

\fancyfoot[RO,LE]{\thepage}  % Right odd,something additional 1  Left even
\fancyfoot[RE,LO]{}          % Right even, Left odd
\fancyfoot[C]{\leftmark}     % Center

\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}
\usepackage{tikz}
\begin{document}
    \maketitle
    \chapter{Дискретная теория вероятностей}
    \section{Введение}

    \begin{definition}
        [Вероятностное пространство]
        $ $\\
        $\Omega$ -- элементарные исходы, неделимые дальше.

         $p$ -- дискретная плотность вероятности.

         $p: \Omega \to [0,1]\quad \sum\limits_{q\in \Omega} p(\omega) = 1$
    \end{definition}

    \begin{note}
        В случае дискретного вероятностного пространства $\left| \Omega \right| $ -- не более, чем счётное.
    \end{note}

    \begin{example}
        [Честная монета]
        $\Omega = \{0,1\}\quad p(0) = p(1) = \frac{1}{2}$
    \end{example}

    \begin{example}
        [Нечестная монета]
        $\Omega = \{0,1\}\quad p(1) = p, p(0) = q$ -- различные числа. $p+q = 1$

        Ещё одно название -- \underline{распределение Бернулли}
    \end{example}

    \begin{example}
        [Честная игральная кость]
        $\Omega = \{1, 2, 3, 4, 5, 6\}\quad p(\omega) = \frac{1}{6}$
    \end{example}

    \begin{definition}
        Событие, случайное событие -- $A\subseteq \Omega$
    \end{definition}

    \begin{note}
        Неправильное определение -- то, что может произойти, а может не произойти.

            $\O \subseteq \Omega\quad \Omega\subseteq \Omega$ -- примеры, когда никогда не происходит и всегда происходит
    \end{note}
    \begin{note}
        Для недискретного случая неверно, что \underline{любое} подмножество $\Omega$ это событие
    \end{note}

    \begin{definition}
        Вероятность события $P(A) = \sum\limits_{\omega\in A} p(\omega)$

        $p$ берёт элементарные исходы.  $P, \mathbb{P}$ -- вероятность события
    \end{definition}

    \begin{example}
        
        Событие $E = \{2, 4, 6\}\quad P(E) = p(2) + p(4) + p(6) = \frac{3}{6} = \frac{1}{2}$

        $O = \{1, 3, 5\}$
    \end{example}

    \begin{note}
        Не существует вероятностного пространства с бесконечным числом равновероятных исходов


        $p(\omega) = 0\quad \sum = 0$

        $p(\omega) = a >0\quad \sum = a\cdot (+\infty ) = +\infty $
    \end{note}

    \begin{example}
        Событие $B(IG) = \{4, 5, 6\} \quad P(B) = \frac{1}{2}$
    \end{example}

    \begin{definition}
        [Независимое событие] События $A, B$ независимы, если  $P(A\cap B) = P(A) \cdot  P(B)$
    \end{definition}

    \begin{example}
        $E\cap O = \O \quad B\cap E = \{4,6\}$

        $P(E\cap O) = \O \quad P(O)\cdot P(B) = \frac{1}{4}\neq 0$ 

        $P(B)\cdot P(E) = \frac{1}{4} \neq \frac{1}{3} = P(B\cap E)$
    \end{example}

    \begin{tikzpicture}
        \draw (0,0) circle [radius = 2];
        \draw[fill = green, opacity = 0.5] (-0.5,0) circle [radius = 0.8];
        \draw[fill = red, opacity = 0.5] (0.5,0) circle [radius = 0.8];
    \end{tikzpicture}

    $P(A\cap B) = P(A)\cdot P(B)$

    $\frac{P(A\cap B)}{P(B)} = \frac{P(A)}{P(\Omega)}$

    \begin{definition}
        [Условная вероятность] 
        $P(A|B) = \frac{P(A\cap B)}{P(B)}$
    \end{definition}
    \begin{note}
        Альтернативное определение независимости, не поддерживающее 0: $P(A | B) = P(A)$
    \end{note}

    $V = \{5,6\}$

    $P(V\cap E) = \frac{1}{6}$ 

    $P(V) = \frac{1}{3}\quad P(E) = \frac{1}{2}\quad P(V) \cdot  P(E) = \frac{1}{3}\cdot \frac{1}{2} = \frac{1}{6} = P(V\cap E)$

    \begin{definition}
        [Произведение вероятностных пространств]
        $ $\\
        $\Omega_1, p_1\qquad \Omega_2, p_2$

        $\Omega = \Omega_1 \times \Omega_2$

        $p\left( \left<\omega_1, \omega_2 \right> \right)  = p_1\left( \omega_1 \right) \cdot p_2(\omega_2)$
    \end{definition}
    \begin{theorem}
        $\forall A_1\subseteq \Omega_1$ и $\forall  A_2\subseteq \Omega_2$

        $A_1\times \Omega_2$ и $\Omega_1\times A_2$ -- независимы
    \end{theorem}
    \begin{proof}
        $P\left( A_1\times \Omega_2 \cap \Omega_1\times A_2 \right)  = P\left( A_1\times A_2 \right) = \sum\limits_{\substack{a\in A_1\\b\in A_2}} p\left( \left<a, b \right> \right)  = \\ = \sum\limits_{a\in A_1} \sum\limits_{b\in A_2} p_1(a)\cdot p_2(b) = \sum\limits_{a\in A_1}p_1(a)\left( \sum\limits_{b\in A_2} p_2(b) \right) = P_1(A_1)\cdot P_2(A_2)$
    \end{proof}

    \begin{definition}
        $A_1, A_2, \ldots, A_n$

        \begin{enumerate}
            \item Попарно независимые $\quad A_i$ и $A_j$ независимы
            \item Независимы в совокупности $\forall I\subseteq \{1, 2, \ldots, n\}~ P\left( \bigcap\limits_{i\in I}A_i \right)  = \prod\limits_{i\in I} P(A_i)$

                $P(A_1\cap A_2\cap A_3) = P(A_1)\cdot P(A_2)\cdot P(A_3)$
        \end{enumerate}
    \end{definition}

    \begin{example}
        Кидаем две монеты $\Omega = \{00, 01, 10, 11\}$

        $A_1 = \{10,11\}\quad A_2 = \{01,11\}\quad A_3 = \{01,10\}$ -- независимы попарно, но не в совокупности
    \end{example}

    \begin{definition}
        [Формула полной вероятности]
        $ $\\
        $\Omega = A_1\cup A_2\cup \ldots \cup A_n\quad i\neq j\implies A_i\cap A_j = \O $

        Совокупность таких А-шек называется полной системой событий.

        Дано: вероятности $P(A_i)\quad P(B|A_i)$
        Найти: $P(B)$

        \[P(B) = \sum_{i=1}^nP(B\cap A_i) = \sum_{i=1}^n P(B|A_i)\cdot P(A_i)\] -- формула полной вероятности

        Найти: $P\left( A_j|B \right) $

        $A_1$ -- болен, $A_2$ -- здоров, $B$ -- положительный результат теста

        $P(A_2|B)$

        \[P(A_j|B) = \frac{P(A_j\cap B)}{P(B)} = \frac{P(B|A_j)\cdot P(A_j)}{\sum_{i=1}^nP\left( B|A_i \right)\cdot P(A_i) }\] -- формула Байеса
    \end{definition}
\begin{figure}[ht]
    \centering
    \incfig{b}
    \caption{B}
    \label{fig:b}
\end{figure}

\section{Случайные величины}

\begin{note}
    Неправильное (наивное) определение -- величина, принемающая слуйное значение.

    Она может быть константой. Что такое величина?
\end{note}

\begin{definition}
    [Случайная величина]

    $\xi: \Omega \to \R$ -- $\R$ -значная функция

    $\Omega, p$ -- вероятностное пространство. 
\end{definition}

\begin{example}
    Если взять случайные текст длинной 1Кб. Вариантов текста очень много и бессмысленно их рассматривать отдельно, интересует какое-то свойство, величина.

    Графы, $2^{n \choose 2}$ штук. Но нас интересует какая-то (численная) характеристика элементарного исхода.
\end{example}

\begin{example}
    $D(ice) = \{1, 2, 3, 4, 5, 6 \}$

    $\Omega = D^2\quad p\left( \left<i, j \right> \right) =\frac{1}{36}$ 

    $\xi: \Omega \to  \R\qquad \xi(\left<i, j \right>) = i+j$
\end{example}

\begin{example}
    [Случайные графы]

    $G(4, \frac{1}{2})$ -- случайный граф, 4 вершины, каждое ребро существует с вероятностью $\frac{1}{2}$ 

    $\Omega = \mathds{B}^6\quad p(G) = \frac{1}{64}$

    $\xi(G)$ = количество компонент связности
\end{example}

\begin{example}
    $\Omega = \{1, 2, 3, 4, 5,6\}$
$\xi(w) = w$
\end{example}
\begin{example}
    $\Omega = \{1, 2, 3, 4, 5, 6\}\quad E = \{2, 4, 6\}$

    $\chi_E(\omega) = \begin{cases}
        1,& \omega\in E\\
        0,&\omega \not\in E\\
    \end{cases}$ -- индикаторная случайная величина
\end{example}

\begin{definition}
    $\Omega, p\quad \xi$

    $\left[ \xi = i \right]  = \{\omega |  \xi(\omega) = i\}\subseteq \Omega$

    $P\left( \left[ \xi = i \right]  \right)  = P\left( \xi = i \right)  = f_{\xi}(i)\quad f:\R\to \R$

    $f_{\xi}(i) = P\left( \xi = i \right) $ -- дискретная плотность вероятности случайной величины $\xi$

    $F_{\xi}(i):\R\to \R = P\left( \xi\leqslant i \right) $ -- функция распределения


\end{definition}

\begin{note}

    Непрерывная vs Дискретная вероятность
    
\begin{figure}[ht]
    \centering
    \incfig{непрерывная-вероятность}
    \caption{непрерывная и дискретная вероятность}
    \label{fig:непрерывная-вероятность}
\end{figure}
\end{note}

\begin{example}
\begin{figure}[ht]
    \centering
    \incfig{два-кубика}
    \caption{Два-кубика (функция распределения)}
    \label{fig:два-кубика}
\end{figure}
\end{example}


\begin{note}
    $\delta(x) = \begin{cases}
        0, &x\neq 0\\
        +\infty ,&x=0\\
    \end{cases}$ 

    $\int\limits_{-\infty }^{+\infty }\delta(x)dx = 1$

    $f_{\xi}(i) = P\left( \xi = i \right) \qquad f_{\xi} = \int\limits_{-\infty }^{+\infty }f_{xi}(x) = F_{\xi}(i)$

    $f_{\xi}(x) = \sum_i P\left( \xi = i \right) f\left( x-i \right) $
\end{note}

\begin{example}
    $\Omega = \mathbb{B}^{1000}\quad p(\omega) = \frac{1}{2^{1000}}$ 

    $\xi(w)$ =  число 1 в  $\omega$

    $\left| \text{множество значений } \xi \right|  = 1001\qquad p\left( \xi = i \right) = \frac{{1000\choose i}}{2^{1000}}$

\end{example}

\begin{note}
    Случайные числа обозначаются строчными греческими или заглавными латинскими из конца алфавита (X, Z)
\end{note}

\begin{note}
    [Что можно делать со случайными величинами]

    $\xi, \eta$ -- функции

    $\xi^2\quad 2\xi\quad \xi+\eta\quad \xi\cdot \eta\quad \xi^{\eta}\quad \sin \xi\quad e^{\eta}\quad \frac{1+\xi}{\eta}$ (всё то же, что мы можем делать с функциями.
\end{note}

\begin{example}
    $\Omega = D^2\quad \xi_1\left( \left<i, j \right> \right)  = i\qquad \xi_2\left( \left<i, j \right> \right) = j $ -- одинаково распределённые случайные величины
\end{example}

\begin{example}
    $\Omega = F\quad id(\omega) = \omega$

    $1, 2, \ldots, 6$ -- каждый с вероятностью $\frac{1}{6}$. Другое вероятностное пространство относительно предыдущего примера, но всё равно одинаковое распределение.

    $\xi = (i+j) = \xi_1 + \xi_2\qquad \xi = (i+j)\%6 +1$ -- у второй то же распределение, что у верхних, но она уже совсем другая.
\end{example}

\begin{definition}
    Математическое ожидание \[
        E_{\xi} = \sum_{\omega}p\left( \omega \right) \xi(\omega)
    .\] 

\end{definition}
\begin{statement}
    $E_{\xi} = \sum_i ip(\xi = i)$ 
\end{statement}
\begin{proof}
     \begin{align*}
         E_{\xi} &= \sum_{\omega}p\left( \omega \right) \xi\left( \omega \right)  \\
                 &= \sum_i\sum_{w:\xi(\omega) = i}p\left( \omega \right) \cdot  \xi\left(\omega  \right)\\
                 &= \sum_i\sum_{\omega:\xi\left( \omega \right) =i}p\left( \omega \right) \cdot i \\
                 &= \sum_i i\negthickspace\negthickspace\sum_{w:\xi\left( \omega \right) =i} p\left( \omega \right) \\
                 &= \sum_i iP\left( \xi = i \right)  \\
    .\end{align*}
\end{proof}

\begin{example}
    $\Omega = D\quad \xi = id$

    $E_{\xi} = \frac{1}{6}\cdot 1 + \frac{1}{6}\cdot 2 + \frac{1}{6}\cdot 3 + \frac{1}{6}\cdot 4 + \frac{1}{6}\cdot 5 + \frac{1}{6}\cdot 6 = \frac{21}{6} = \frac{7}{2} = 3,5$
\end{example}

\begin{example}
    $\Omega = D^2\quad \xi \left( \left<i, j \right> \right) = i+j$

    $E_{\xi} = \frac{1}{36}\cdot \left( 2\cdot 1+3\cdot 2+4\cdot 3+5\cdot 4+6\cdot 5+7\cdot 6+8\cdot 5+9\cdot 4+10\cdot 3+11\cdot 2+12\cdot 1 \right) $ -- здесь среднее значение оказалось наиболее частым, но так оно не всегда (пример с 3,5)
\end{example}


\begin{theorem}
    $E_{\lambda\xi} = \lambda E_{\xi}$

    $E\left( \xi + \eta \right)  = E_{\xi} + E_{\eta}$
\end{theorem}
\begin{proof}
    $E_{\lambda\xi} = \sum_{\omega}p\left( \omega \right) \lambda\xi\left( \omega \right)  = \lambda E_{\xi}$

    $E\left( \xi + \eta \right)  = \sum_{\omega  }p\left( \omega \right) \left( \xi\left( \omega \right)  + \eta\left( \omega \right)  \right) = E_{\xi} + E_{\eta}$
\end{proof}

\begin{statement}
    Если $\xi$ и  $\eta$ одинаково распределены, то  $E_{\xi} = E_{\eta}$
\end{statement}

\begin{example}
    Бросим кубик один раз, $\xi_1$ -- что выпало сверху, $\xi_2$ -- что выпало снизу

    $E\left( \xi_1 + \xi_2 \right)  = 7$. -- не играет роли как числа друг относительно друга расположены.
\end{example}

\begin{center}
    {\Huge \textbf{ \color{red} МАТОЖИДАНИЕ ЛИНЕЙНО ВСЕГДА}}
    
\end{center}

\begin{example}
    $\Omega = S_n\quad p(\omega) = \frac{1}{n!}$ 

    $\xi\left( \pi  \right)  = \left| \{i | \pi [i] = i\} \right| \quad 0\ldots n$, кроме $n-1$

    $E_{\xi} = \sum_{j=1}^{n} \xi_i = 1$

    $\xi_i\left( \pi  \right)  = \begin{cases}
        1, & \pi [i] = i\\
        0, & \text{ иначе}
    \end{cases}$ 

    $E_{\xi_i} = \frac{1}{n}$ 

    $\xi = \sum_{j=1}^{n} \xi_i$

\end{example}
\section{Независимые случайные величины}

\begin{definition}
    [удобное]
    Случайные величины  $\xi$ и  $\eta$ независимы, если события  $[\xi = \alpha]$ и $\left[ \eta = \beta \right] $ -- независимы $\forall \alpha, \beta$
\end{definition}

\begin{definition}
    [нормальное]

    $[\xi\leqslant \alpha]$ и $\left[ \eta\leqslant \beta \right] $ -- независимы для $\forall \alpha, ]beta$
\end{definition}

\begin{example}
    $\Omega = \Omega_1 \times  \Omega_2$

    $\xi_1\left( \left<\omega_1, \omega_2 \right> \right)  = f\left( \omega_1 \right) $

    $\xi_2\left( \left<\omega_1, \omega_2 \right> \right) = g\left( \omega_2 \right) $

    $A$ и  $B$ независимы, $\chi_A, \chi_B$ -- независимы
\end{example}

\begin{theorem}
    $\xi, \eta$ -- независимы  $\implies E\left( \xi\cdot \eta \right)  = E_{\xi} \cdot  E_{\eta}$
\end{theorem}
\begin{proof}
    $E \xi\cdot \eta = \sum_{\alpha} \alpha\cdot P\left( \xi\cdot \eta = \alpha \right)  = \sum_{i, j}\alpha P\left( \left[ \xi = i \right] \cap  \left[ \eta = j \right]  \right)  = \sum_i\sum_j i j P\left( \xi = i \right) P\left( \eta = j \right)  = E_{\xi}E_{\eta}$

    $i\cdot j = \alpha\quad i\in R_{\xi}\quad j\in R_{\eta}$
\end{proof}

\begin{example}
    $\Omega = \{0,1\}\quad p = \frac{1}{2}\quad \xi(i) = 2i\quad E_{\xi} = 1$ 

    $\Omega = S_n\quad p = \frac{1}{n!}\quad \xi = $ число неподвижных точек $\quad E_{\xi} = 1$

    Матожидание одно, но ведут себя совершенно по разному.
\end{example}

\begin{definition}
    [Дисперсия]

    $D_{\xi} = Var\left( \xi \right) $ 

    $D_{xi} = E\left( \xi-E_{\xi} \right) ^2  =E\left( \xi^2 - 2\xi E_{\xi} + \left( E_{\xi} \right) ^2 \right)  = E_{xi}^2 - 2E_{\xi}E_{\xi} + \left( E_{\xi} \right) ^2 = E_{\xi^2} - \left( E_{\xi} \right) ^2$
\end{definition}

\begin{theorem}
    $D_{c\xi} = c^2D_{\xi}$

    Если $\xi$ и  $\eta$ независимы, то $D_{\xi + \eta} = D_{\xi} + D_{\eta}$
\end{theorem}
\begin{proof}
    Упражнение
\end{proof}
\end{document}
